# =====================================================================
# Configuration file for Intel Core i3-14100 (Raptor Lake Refresh)
#
# This configuration is based on the Nehalem architecture, with values
# adjusted for modern processors using available public information.
# Some values are estimated.
# =====================================================================

#include core-raptor

# =====================================================================
# 1. Processor
# Defines the processor model and branch predictor.
# =====================================================================
[general]
total_cores = 4                     # 4 P-Cores, 0 E-Cores

[perf_model/core]
logical_cpus = 2                    # Hyper-Threading (2 threads per core) is enabled on all cores
frequency = 3.5                     # Base Clock for P-Cores

# Microarchitecture is based on the P-Cores from the i9-14900K model.
[perf_model/core/interval_timer]
dispatch_width = 6
window_size = 512                   # Re-order Buffer (ROB) for Raptor Cove
num_outstanding_loadstores = 40     # Load/Store Buffers

[perf_model/branch_predictor]
mispredict_penalty = 12


# =====================================================================
# 2. Memory Hierarchy (Cache & DRAM)
# Defines all cache levels and the main memory configuration.
# =====================================================================
[perf_model/l3_cache]
cache_size = 12288            # 12 MB total, shared across all cores
associativity = 12            # Estimated for a 12MB L3 design
data_access_time = 35
tags_access_time = 13
shared_cores = 4

[perf_model/dram_directory]
total_entries = 1572864             # Scaled for 12 MB L3 (131072 entries/MB * 12 MB)

[perf_model/dram]
num_controllers = -1                # Use distributed DRAM controllers
controllers_interleaving = 4        # Interleave across 4 controller slices (matches total_cores)
latency = 40                        # Raw latency for DDR5, identical memory controller
per_controller_bandwidth = 19.60    # Total realistic bandwidth of 78.40 GB/s / 4 slices
chips_per_dimm = 8
dimms_per_controller = 4
burst_length = 16                   # Standard for DDR5