# =====================================================================
# Configuration file for Intel Core i5-14400F (Raptor Lake Refresh)
#
# This configuration is based on the Nehalem architecture, with values
# adjusted for modern processors using available public information.
# Some values are estimated.
# =====================================================================

#include core-raptor.cfg

# =====================================================================
# 1. Processor
# Defines the processor model and branch predictor.
# =====================================================================
[general]
total_cores = 10                    # 6 P-Cores and 4 E-Cores

[perf_model/core]
# Hyper-Threading (2 threads per core) is enabled on the 6 P-Cores
logical_cpus = 1                    # Default value for the 4 E-Cores
logical_cpus[] = 2,2,2,2,2,2        # Specific value for the 6 P-Cores
# P-Cores: 2.5 GHz, E-Cores: 1.8 GHz (Base Clocks)
frequency = 1.8
frequency[] = 2.5,2.5,2.5,2.5,2.5,2.5 #...

# Both CPUs have 6 P-Cores, so the microarchitectural parameters
# for those cores remain the same.
[perf_model/core/interval_timer]
dispatch_width = 5
dispatch_width[] = 6,6,6,6,6,6
# Re-order Buffer (ROB): 512 for Raptor Cove, 64 for Gracemont
window_size = 64
window_size[] = 512,512,512,512,512,512
# Load/Store Buffers
num_outstanding_loadstores = 20
num_outstanding_loadstores[] = 40,40,40,40,40,40

[perf_model/branch_predictor]
mispredict_penalty = 8
mispredict_penalty[] = 12,12,12,12,12,12


# =====================================================================
# 2. Memory Hierarchy (Cache & DRAM)
# Defines all cache levels and the main memory configuration.
# =====================================================================
[perf_model/l3_cache]
cache_size = 20480            # 20 MB total, shared across all cores
associativity = 10            # 20MB L3 is 10-way associative
data_access_time = 35
tags_access_time = 13
shared_cores = 6              # Following base file logic, maps to P-Cores

[perf_model/dram_directory]
total_entries = 2621440             # Scaled for 20 MB L3 (131072 entries/MB * 20 MB)

[perf_model/dram]
num_controllers = -1                # Use distributed DRAM controllers
controllers_interleaving = 10       # Interleave across 10 controller slices (matches total_cores)
latency = 40                        # Raw latency for DDR5, identical memory controller
per_controller_bandwidth = 7.84     # Total realistic bandwidth of 78.40 GB/s / 10 slices
chips_per_dimm = 8
dimms_per_controller = 4
burst_length = 16                   # Standard for DDR5
