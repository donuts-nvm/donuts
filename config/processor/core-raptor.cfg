# =====================================================================
# Base Configuration File for Intel Raptor Lake Refresh Architecture
#
# This file contains the common microarchitectural parameters for all
# 14th Gen Core processors (Raptor Cove P-Cores, Gracemont E-Cores).
#
# This configuration is based on the Nehalem architecture, with values
# adjusted for modern processors using available public information.
# Some values are estimated.
# =====================================================================

#include intel-arch

# =====================================================================
# 1. Common Core Architecture & Power
# =====================================================================
# TLB values based on P-Cores since this parameter is not individual for each core
[perf_model/tlb]
penalty = 35

[perf_model/itlb]
size = 256
associativity = 8

[perf_model/dtlb]
size = 96
associativity = 12

[perf_model/stlb]
size = 2048
associativity = 16

[power]
technology_node = 10          # "Intel 7" process node (10nn)


# =====================================================================
# 2. Common Memory Hierarchy (Cache & DRAM)
# =====================================================================
# L1 and L2 cache sizes are per-core features
[perf_model/l1_icache]
cache_size = 32               # 32 KB per P-Core
associativity = 8
data_access_time = 4
tags_access_time = 1
shared_cores = 1

[perf_model/l1_dcache]
cache_size = 48               # 48 KB per P-Core
associativity = 12
data_access_time = 4
tags_access_time = 1
shared_cores = 1

# L2 Cache on P-Core
[perf_model/l2_cache]
cache_size = 2048             # 2 MB per P-Core
associativity = 16
data_access_time = 13
tags_access_time = 4
writeback_time = 60
shared_cores = 1

#[perf_model/l1_icache]
## E-Cores have a larger L1i to improve instruction fetch efficiency
#cache_size = 64
#cache_size[] = 32,32,32,32,32,32,32,32
#associativity = 12
#associativity[] = 8,8,8,8,8,8,8,8
#data_access_time = 5
#data_access_time[] = 4,4,4,4,4,4,4,4
#tags_access_time = 1

#[perf_model/l1_dcache]
## E-Cores have a smaller L1d to save power and area
#cache_size = 32
#cache_size[] = 48,48,48,48,48,48,48,48
#associativity = 8
#associativity[] = 12,12,12,12,12,12,12,12
#data_access_time = 4
#tags_access_time = 1

#[perf_model/l2_cache]
## E-Cores share a larger L2 cache within a 4-core cluster
#cache_size = 4096
#cache_size[] = 2048,2048,2048,2048,2048,2048,2048,2048
#associativity = 16
#data_access_time = 18
#data_access_time[] = 13,13,13,13,13,13,13,13
#tags_access_time = 5
#tags_access_time[] = 4,4,4,4,4,4,4,4
#writeback_time = 60
#shared_cores = 4
#shared_cores[] = 1,1,1,1,1,1,1,1

# Common DRAM controller parameters
[perf_model/dram]
num_controllers = -1                # Use distributed DRAM controllers
latency = 40                        # Raw latency for DDR5 is the same
chips_per_dimm = 8
dimms_per_controller = 4

[perf_model/dram/write_queue]
enabled = false         # Set true to enable write queue (more realistic)
merging = true          # merging writes
num_entries = 64
enqueue_latency = 0     # enqueue latency (in ns)
burst_length = 16       # Standard for DDR5


# =====================================================================
# 3. Common Interconnect Network
# =====================================================================
[network/bus]
# Desktop part, no QPI/UPI. The on-chip ring bus handles interconnect.
bandwidth = 200                     # High value for on-chip Ring Interconnect
